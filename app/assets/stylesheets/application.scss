// Custom bootstrap variables must be set or imported *before* bootstrap.
@import "variables";
@import "bootstrap";

/* universal */
form {
  input[type="text"],
  input[type="password"],
  input[type="email"],
  input[type="file"],
  textarea {
    @extend .form-control;
  }

  input[type="submit"] {
    @extend .form-control;
    @extend .btn;
    @extend .btn-primary;
  }

  select {
    @extend .form-select;
  }

  .form-check input[type="checkbox"] {
    @extend .form-check-input;
  }

  .form-check input[type="checkbox"] {
    @extend .form-check-label;
  }

  > div {
    @extend .mb-3;
  }
}

ul.pagination {
  @extend .justify-content-center;
  @extend .mt-3, .mb-0;
}

/* shared */
.pickle-card {
  @extend .py-2;
  border-bottom: 1px solid $gray-500;

  .header {
    .title {
      @extend .h3;
      @extend .mb-1;
      @extend .text-truncate;
    }

    .user-info {
      @extend .d-flex;
      @extend .align-items-center;

      .name {
        @extend .text-truncate;
      }

      .avatar {
        background-color: $gray-200;
        max-width: 1.5rem;
        max-height: auto;
        border-radius: 100%;
      }
    }
  }

  .summary {
    .ingredients {
      @extend .text-truncate;
    }
  }
}

.journal-card {
  @extend .d-flex;
  @extend .py-2;
  border-bottom: 1px solid $gray-500;

  .journal-avatar {
    @extend .me-1;

    .avatar {
      background-color: $gray-200;
      max-width: 2.5rem;
      max-height: auto;
      border-radius: 100%;
    }
  }

  .journal-content {
    @extend .flex-grow-1;
    min-width: 0px;

    .journal-header {
      @extend .d-flex;
      @extend .align-items-center;

      .journal-display-name {
        @extend .flex-grow-1;
        @extend .text-truncate;
      }

      .journal-time-ago {
        @extend .ms-auto;
        @extend .text-nowrap;
      }

      .button-destroy-journal {
        @extend .btn, .btn-danger;
        @extend .ms-1;
        --bs-btn-font-size: .75rem;
        --bs-btn-padding-x: .4rem;
        }
    }

    .journal-body {
      .pickle-link {
        @extend .d-block;
        @extend .text-truncate;
        font-size: 0.9rem;
      }

      p {
        @extend .my-1;
        font-size: 1.1rem;
      }
    }
  }
}

.row-devise-main-frame {
  @extend .row;
  @extend .justify-content-center;

  .col-devise-content-pane {
    @extend .col-md-6;
  }
}

.journal-form {
  @extend .py-2;
}

/* home */
.home-bg {
  background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), image-url('home_bg.jpg');
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
}


/* user page */
.row-user-main-frame {
  @extend .row, .row-cols-md-2, .row-cols-1;
  @extend .justify-content-center;
  @extend .g-3;

  .col-profile-pane {
    @extend .col-md-3, .col-12;

    .profile-card {
      @extend .d-flex;
      @extend .justify-content-md-center;
      @extend .align-items-md-start, .align-items-center;
      @extend .flex-md-wrap, .flex-nowrap;
      @extend .p-3;
      background-color: $gray-500;
      border-radius: 10px;

      .profile-avatar {
        @extend .col-md-12, .flex-fill;
        @extend .text-md-center, .text-end;

        .avatar {
          @extend .my-2;
          background-color: $gray-200;
          max-width: 100px;
          max-height: auto;
          border-radius: 100%;
        }
      }

      .profile-body {
        @extend .col-md-12, .flex-fill;
        @extend .text-md-center, .text-start, .text-break;
        @extend .mt-2;
        @extend .ps-md-0, .ps-3;

        p {
          @extend .mb-1;
        }
      }
    }
  }

  .col-content-pane {
    @extend .col-md-9, .col-12;

    .pickle-section {
      @extend .mb-3;
      @extend .p-3;
      background-color: $gray-300;
      border-radius: 10px;
    }

    .journal-section {
      @extend .p-3;
      background-color: $gray-300;
      border-radius: 10px;

      .journal-list-section {
        border-top: 1px solid $gray-500;
      }
    }
  }
}

/* pickle page */
.row-pickle-main-frame {
  @extend .row, .row-cols-md-2, .row-cols-1;
  @extend .justify-content-center;
  @extend .gx-3;

  .col-header-pane {
    @extend .col-12;

    .header-section {
      @extend .mb-3;
      font-size: 0.9rem;

      .user-info {
        @extend .d-flex;
        @extend .align-items-center;

        .user-avatar {
          @extend .me-1;
          .avatar {
            background-color: $gray-200;
            max-width: 1.5rem;
            max-height: auto;
            border-radius: 100%;
          }
        }

        .name {
          @extend .text-truncate;
        }
      }

      .started-on {

      }
    }
  }

  .col-recipe-pane {
    @extend .col-12, .col-lg-7;

    .recipe-section {
      @extend .mb-3;
      @extend .p-3;
      background-color: $gray-300;
      border-radius: 10px;
    }
  }

  .col-journal-pane {
    @extend .col-12, .col-lg-5;

    .journal-section {
      @extend .mb-3;
      @extend .p-3;
      background-color: $gray-300;
      border-radius: 10px;
    }
  }
}

.devise-form, .profile-form {
  @extend .p-3;
  background-color: $gray-500;
  border-radius: 10px;

  h2 {
    text-align: center;
  }
}

.cancel-account {
  @extend .mt-3;
}

.field_with_errors {
  display: inline;
}


/* pickle */
.pickle-form {
  background-color: $gray-500;
  border-radius: 10px;
  @extend .p-3;
  h2 {
    text-align: center;
  }
  .ingredients, .sauce-materials {
    @extend .p-2;
  }
}

/* miscellaneous */
.debug_dump {
  clear: both;
  float: left;
  width: 100%;
  margin-top: 2rem;
}
